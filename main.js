(()=>{"use strict";const e=[],t={changeRead(){this.read=!this.read},changeTitle(e){this.title=e},changeAuthor(e){this.author=e},changepages(e){this.pages=e}};const a=document.querySelector(".add-book"),i=document.querySelector(".library"),n=function(n,r,o,s){let c=document.createElement("div"),d=function(a,i,n){const r=function(e,a,i,n){const r={title:e,author:a,pages:i,read:void 0};return Object.assign(r,t)}(a,i,n);return e.push(r),r}(n,r,o),l=!0===d.read?"Read":"Not read";c.innerHTML=`\n            <div class="title">${n}</div>\n            <div class="by">By</div>\n            <div class="author">${r}</div>\n            <div class="pages">${o} pages</div>\n            <button type="button" class="read">${l}</button>\n            <button type="button" class="remove">Remove</button>`,c.classList.add("book"),i.insertBefore(c,a);let u=c.querySelector(".read"),v=c.querySelector(".remove");u.addEventListener("click",(function(){this.classList.toggle("have-read"),d.changeRead(),this.textContent=!0===d.read?"Read":"Not read"})),v.addEventListener("click",(function(){c.remove(),function(t){let a=e.indexOf(t);1!==a&&e.splice(a,1)}(d)}))},r=document.querySelector(".add-book"),o=document.querySelector(".add-book-cover"),s=document.querySelector(".cancel-add-book"),c=r.querySelector(".title-input"),d=r.querySelector(".author-input"),l=r.querySelector(".pages-input"),u=r.querySelector(".title-error"),v=r.querySelector(".author-error"),h=r.querySelector(".pages-error");function y(){c.checkValidity()?(u.classList.remove("active"),u.textContent=""):(u.classList.add("active"),c.validity.tooLong&&(u.textContent="max le nght is 20 characters"),c.validity.valueMissing&&(u.textContent="title is required"))}function g(){d.checkValidity()?(v.classList.remove("active"),v.textContent=""):(v.classList.add("active"),d.validity.tooLong&&(v.textContent="max lenght is 20 characters"),d.validity.tooShort&&(v.textContent="min lenght is 3 characters"),d.validity.patternMismatch&&(v.textContent="only alphabetic characters"),d.validity.valueMissing&&(v.textContent="author is required"))}function m(){l.checkValidity()?(h.classList.remove("active"),h.textContent=""):(h.classList.add("active"),l.validity.rangeUnderflow&&(h.textContent="must be more than 1"),l.validity.patternMismatch&&(h.textContent="only numbers"),l.validity.valueMissing&&(h.textContent="pages is required as a number"))}c.addEventListener("input",(()=>{y()})),d.addEventListener("input",(()=>{g()})),l.addEventListener("input",(()=>{m()}));n("good book 2","alireza",123),o.addEventListener("click",(e=>{e.target.classList.add("hide")})),s.addEventListener("click",(e=>{o.classList.remove("hide")})),r.addEventListener("submit",(e=>{var t;y(),g(),m(),r.checkValidity()&&(n(c.value,d.value,l.value),t=[u,v,h],[c,d,l].forEach((e=>{e.value=""})),t.forEach((e=>{e.textContent="",e.classList.remove("active")}))),e.preventDefault()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVNPLGlCQUN0QlYsRUFBV2IsWUFBYyx1QkFFdkJVLEVBQVdNLFNBQVNLLGtCQUN0QlIsRUFBV2IsWUFBYyxnQkFFdkJVLEVBQVdNLFNBQVNFLGVBQ3RCTCxFQUFXYixZQUFjLGlDQU0vQixDQWhFQVEsRUFBV1YsaUJBQWlCLFNBQVMsS0FDbkNnQixHQUFpQixJQUduQkwsRUFBWVgsaUJBQWlCLFNBQVMsS0FDcENxQixHQUFrQixJQUdwQlQsRUFBV1osaUJBQWlCLFNBQVMsS0FDbkN3QixHQUFpQixJQ3JCbkIsRUFBVyxjQUFlLFVBQVcsS0QrRW5DaEIsRUFBVVIsaUJBQWlCLFNBQVUwQixJQUNuQ0EsRUFBRUMsT0FBT2hDLFVBQVVDLElBQUksT0FBTyxJQUVoQ2EsRUFBV1QsaUJBQWlCLFNBQVUwQixJQUNwQ2xCLEVBQVViLFVBQVVRLE9BQU8sT0FBTyxJQUVwQyxFQUFLSCxpQkFBaUIsVUFBVzBCLElBZW5DLElBQTZCRSxFQWR6QlosSUFDQUssSUFDQUcsSUFDSSxFQUFLUCxrQkFDUCxFQUFXUCxFQUFXbUIsTUFBT2xCLEVBQVlrQixNQUFPakIsRUFBV2lCLE9BVXBDRCxFQVByQixDQUFDZixFQUFZQyxFQUFhQyxHQUQxQixDQUFDTCxFQUFZQyxFQUFhQyxHQVN6QmtCLFNBQVNDLElBQ2RBLEVBQU1GLE1BQVEsRUFBRSxJQUVsQkQsRUFBT0UsU0FBU0UsSUFDZEEsRUFBTTlCLFlBQWMsR0FDcEI4QixFQUFNckMsVUFBVVEsT0FBTyxTQUFTLEtBVmhDdUIsRUFBRU8sZ0JBQWdCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saWJyYXJ5Ly4vc3JjL2Jvb2suanMiLCJ3ZWJwYWNrOi8vbGlicmFyeS8uL3NyYy9kb20uanMiLCJ3ZWJwYWNrOi8vbGlicmFyeS8uL3NyYy9mb3JtLmpzIiwid2VicGFjazovL2xpYnJhcnkvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbGlicmFyeSA9IFtdO1xuXG4vLyBwcm90b3R5cGUgZm9yIGJvb2sgb2JqZWN0XG5jb25zdCBib29rTWV0aG9kcyA9IHtcbiAgY2hhbmdlUmVhZCgpIHtcbiAgICB0aGlzLnJlYWQgPSAhdGhpcy5yZWFkO1xuICB9LFxuICBjaGFuZ2VUaXRsZShuZXdUaXRsZSkge1xuICAgIHRoaXMudGl0bGUgPSBuZXdUaXRsZTtcbiAgfSxcbiAgY2hhbmdlQXV0aG9yKG5ld0F1dGhvcikge1xuICAgIHRoaXMuYXV0aG9yID0gbmV3QXV0aG9yO1xuICB9LFxuICBjaGFuZ2VwYWdlcyhuZXdQYWdlcykge1xuICAgIHRoaXMucGFnZXMgPSBuZXdQYWdlcztcbiAgfSxcbn07XG5cbi8vIGJvb2sgZmFjdG9yeSBmdW5jdGlvblxuZnVuY3Rpb24gQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcywgcmVhZCkge1xuICBjb25zdCBib29rUHJvcHMgPSB7IHRpdGxlLCBhdXRob3IsIHBhZ2VzLCByZWFkIH07XG4gIHJldHVybiBPYmplY3QuYXNzaWduKGJvb2tQcm9wcywgYm9va01ldGhvZHMpO1xufVxuXG4vLyBhZGRzIGEgYm9vayB0byBsaWJyYXJ5IHRoZW4gcmV0dXJucyBpdFxuZnVuY3Rpb24gYWRkQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcykge1xuICBjb25zdCBuZXdCb29rID0gQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcyk7XG4gIGxpYnJhcnkucHVzaChuZXdCb29rKTtcbiAgcmV0dXJuIG5ld0Jvb2s7XG59XG5cbi8vIHJlbW92ZXMgYSBib29rIGZyb20gbGlicmFyeVxuZnVuY3Rpb24gcmVtb3ZlQm9vayhib29rKSB7XG4gIGxldCBib29rSW5kZXggPSBsaWJyYXJ5LmluZGV4T2YoYm9vayk7XG4gIGlmIChib29rSW5kZXggPT09IDEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGlicmFyeS5zcGxpY2UoYm9va0luZGV4LCAxKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGlicmFyeSgpIHtcbiAgcmV0dXJuIGxpYnJhcnk7XG59XG5cbmV4cG9ydCB7IGFkZEJvb2ssIHJlbW92ZUJvb2ssIGdldExpYnJhcnkgfTtcbiIsImltcG9ydCB7IGFkZEJvb2ssIHJlbW92ZUJvb2sgfSBmcm9tIFwiLi9ib29rXCI7XG5cbi8vIHJlZmVyZW5jZSB0byBsaWJyYXJ5IGFuZCBmb3JtIHRvIGFkZCBib29rcyBiZWZvcmUgZm9ybVxuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWJvb2tcIik7XG5jb25zdCBsaWJyYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5saWJyYXJ5XCIpO1xuXG4vLyBjcmFldGVzIGEgYm9vayBib3RoIGluIGRvbSBhbmQgaW4gbGlicmFyeSBhcnJheVxuZnVuY3Rpb24gY3JlYXRlQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcywgcmVhZCkge1xuICBsZXQgYm9va0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGxldCBib29rID0gYWRkQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcywgcmVhZCk7XG4gIGxldCByZWFkVGV4dCA9IGJvb2sucmVhZCA9PT0gdHJ1ZSA/IFwiUmVhZFwiIDogXCJOb3QgcmVhZFwiO1xuICBib29rRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPiR7dGl0bGV9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnlcIj5CeTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF1dGhvclwiPiR7YXV0aG9yfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2VzXCI+JHtwYWdlc30gcGFnZXM8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicmVhZFwiPiR7cmVhZFRleHR9PC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInJlbW92ZVwiPlJlbW92ZTwvYnV0dG9uPmA7XG4gIGJvb2tEaXYuY2xhc3NMaXN0LmFkZChcImJvb2tcIik7XG5cbiAgbGlicmFyeS5pbnNlcnRCZWZvcmUoYm9va0RpdiwgZm9ybSk7XG5cbiAgLy8gZnVuY3Rpb25hbGl0eSBmb3IgcmVhZCBhbmQgcmVtb3ZlIGJ1dHRvbnNcblxuICBsZXQgY2hhbmdlUmVhZEJ1dHRvbiA9IGJvb2tEaXYucXVlcnlTZWxlY3RvcihcIi5yZWFkXCIpO1xuICBsZXQgcmVtb3ZlQnV0dG9uID0gYm9va0Rpdi5xdWVyeVNlbGVjdG9yKFwiLnJlbW92ZVwiKTtcblxuICBmdW5jdGlvbiBjaGFuZ2VSZWFkKCkge1xuICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcImhhdmUtcmVhZFwiKTtcbiAgICBib29rLmNoYW5nZVJlYWQoKTtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gYm9vay5yZWFkID09PSB0cnVlID8gXCJSZWFkXCIgOiBcIk5vdCByZWFkXCI7XG4gIH1cbiAgZnVuY3Rpb24gZGVsZXRlQm9vaygpIHtcbiAgICBib29rRGl2LnJlbW92ZSgpO1xuICAgIHJlbW92ZUJvb2soYm9vayk7XG4gIH1cblxuICBjaGFuZ2VSZWFkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjaGFuZ2VSZWFkKTtcbiAgcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkZWxldGVCb29rKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQm9vaztcbiIsImltcG9ydCBjcmVhdGVCb29rIGZyb20gXCIuL2RvbVwiO1xuXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtYm9va1wiKTtcblxuY29uc3QgZm9ybUNvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtYm9vay1jb3ZlclwiKTtcbmNvbnN0IGZvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC1hZGQtYm9va1wiKTtcblxuY29uc3QgdGl0bGVJbnB1dCA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIi50aXRsZS1pbnB1dFwiKTtcbmNvbnN0IGF1dGhvcklucHV0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmF1dGhvci1pbnB1dFwiKTtcbmNvbnN0IHBhZ2VzSW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucGFnZXMtaW5wdXRcIik7XG5cbmNvbnN0IHRpdGxlRXJyb3IgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGUtZXJyb3JcIik7XG5jb25zdCBhdXRob3JFcnJvciA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIi5hdXRob3ItZXJyb3JcIik7XG5jb25zdCBwYWdlc0Vycm9yID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBhZ2VzLWVycm9yXCIpO1xuXG50aXRsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gIGNoZWNrVGl0bGVJbnB1dCgpO1xufSk7XG5cbmF1dGhvcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gIGNoZWNrQXV0aG9ySW5wdXQoKTtcbn0pO1xuXG5wYWdlc0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gIGNoZWNrUGFnZXNJbnB1dCgpO1xufSk7XG5cbmZ1bmN0aW9uIGNoZWNrVGl0bGVJbnB1dCgpIHtcbiAgaWYgKCF0aXRsZUlucHV0LmNoZWNrVmFsaWRpdHkoKSkge1xuICAgIHRpdGxlRXJyb3IuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICBpZiAodGl0bGVJbnB1dC52YWxpZGl0eS50b29Mb25nKSB7XG4gICAgICB0aXRsZUVycm9yLnRleHRDb250ZW50ID0gXCJtYXggbGUgbmdodCBpcyAyMCBjaGFyYWN0ZXJzXCI7XG4gICAgfVxuICAgIGlmICh0aXRsZUlucHV0LnZhbGlkaXR5LnZhbHVlTWlzc2luZykge1xuICAgICAgdGl0bGVFcnJvci50ZXh0Q29udGVudCA9IFwidGl0bGUgaXMgcmVxdWlyZWRcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGl0bGVFcnJvci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIHRpdGxlRXJyb3IudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrQXV0aG9ySW5wdXQoKSB7XG4gIGlmICghYXV0aG9ySW5wdXQuY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgYXV0aG9yRXJyb3IuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICBpZiAoYXV0aG9ySW5wdXQudmFsaWRpdHkudG9vTG9uZykge1xuICAgICAgYXV0aG9yRXJyb3IudGV4dENvbnRlbnQgPSBcIm1heCBsZW5naHQgaXMgMjAgY2hhcmFjdGVyc1wiO1xuICAgIH1cbiAgICBpZiAoYXV0aG9ySW5wdXQudmFsaWRpdHkudG9vU2hvcnQpIHtcbiAgICAgIGF1dGhvckVycm9yLnRleHRDb250ZW50ID0gXCJtaW4gbGVuZ2h0IGlzIDMgY2hhcmFjdGVyc1wiO1xuICAgIH1cbiAgICBpZiAoYXV0aG9ySW5wdXQudmFsaWRpdHkucGF0dGVybk1pc21hdGNoKSB7XG4gICAgICBhdXRob3JFcnJvci50ZXh0Q29udGVudCA9IFwib25seSBhbHBoYWJldGljIGNoYXJhY3RlcnNcIjtcbiAgICB9XG4gICAgaWYgKGF1dGhvcklucHV0LnZhbGlkaXR5LnZhbHVlTWlzc2luZykge1xuICAgICAgYXV0aG9yRXJyb3IudGV4dENvbnRlbnQgPSBcImF1dGhvciBpcyByZXF1aXJlZFwiO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhdXRob3JFcnJvci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIGF1dGhvckVycm9yLnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1BhZ2VzSW5wdXQoKSB7XG4gIGlmICghcGFnZXNJbnB1dC5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICBwYWdlc0Vycm9yLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgaWYgKHBhZ2VzSW5wdXQudmFsaWRpdHkucmFuZ2VVbmRlcmZsb3cpIHtcbiAgICAgIHBhZ2VzRXJyb3IudGV4dENvbnRlbnQgPSBcIm11c3QgYmUgbW9yZSB0aGFuIDFcIjtcbiAgICB9XG4gICAgaWYgKHBhZ2VzSW5wdXQudmFsaWRpdHkucGF0dGVybk1pc21hdGNoKSB7XG4gICAgICBwYWdlc0Vycm9yLnRleHRDb250ZW50ID0gXCJvbmx5IG51bWJlcnNcIjtcbiAgICB9XG4gICAgaWYgKHBhZ2VzSW5wdXQudmFsaWRpdHkudmFsdWVNaXNzaW5nKSB7XG4gICAgICBwYWdlc0Vycm9yLnRleHRDb250ZW50ID0gXCJwYWdlcyBpcyByZXF1aXJlZCBhcyBhIG51bWJlclwiO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwYWdlc0Vycm9yLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgcGFnZXNFcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWN0aXZhdGVGb3JtKCkge1xuICBmb3JtQ292ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XG4gIH0pO1xuICBmb3JtQ2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGZvcm1Db3Zlci5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcbiAgfSk7XG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgIGNoZWNrVGl0bGVJbnB1dCgpO1xuICAgIGNoZWNrQXV0aG9ySW5wdXQoKTtcbiAgICBjaGVja1BhZ2VzSW5wdXQoKTtcbiAgICBpZiAoZm9ybS5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgIGNyZWF0ZUJvb2sodGl0bGVJbnB1dC52YWx1ZSwgYXV0aG9ySW5wdXQudmFsdWUsIHBhZ2VzSW5wdXQudmFsdWUsIGZhbHNlKTtcbiAgICAgIHJlc2V0SW5wdXRzKFxuICAgICAgICBbdGl0bGVJbnB1dCwgYXV0aG9ySW5wdXQsIHBhZ2VzSW5wdXRdLFxuICAgICAgICBbdGl0bGVFcnJvciwgYXV0aG9yRXJyb3IsIHBhZ2VzRXJyb3JdXG4gICAgICApO1xuICAgIH1cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXNldElucHV0cyhpbnB1dHMsIGVycm9ycykge1xuICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gIH0pO1xuICBlcnJvcnMuZm9yRWFjaCgoZXJyb3IpID0+IHtcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3IuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFjdGl2YXRlRm9ybTtcbiIsImltcG9ydCBjcmVhdGVCb29rIGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0IGFjdGl2YXRlRm9ybSBmcm9tIFwiLi9mb3JtXCI7XG5cbmNyZWF0ZUJvb2soXCJnb29kIGJvb2sgMlwiLCBcImFsaXJlemFcIiwgMTIzKTtcblxuYWN0aXZhdGVGb3JtKCk7XG4iXSwibmFtZXMiOlsibGlicmFyeSIsImJvb2tNZXRob2RzIiwiY2hhbmdlUmVhZCIsInRoaXMiLCJyZWFkIiwiY2hhbmdlVGl0bGUiLCJuZXdUaXRsZSIsInRpdGxlIiwiY2hhbmdlQXV0aG9yIiwibmV3QXV0aG9yIiwiYXV0aG9yIiwiY2hhbmdlcGFnZXMiLCJuZXdQYWdlcyIsInBhZ2VzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYm9va0RpdiIsImNyZWF0ZUVsZW1lbnQiLCJib29rIiwibmV3Qm9vayIsImJvb2tQcm9wcyIsIkJvb2siLCJPYmplY3QiLCJhc3NpZ24iLCJwdXNoIiwiYWRkQm9vayIsInJlYWRUZXh0IiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5zZXJ0QmVmb3JlIiwiY2hhbmdlUmVhZEJ1dHRvbiIsInJlbW92ZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGUiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsImJvb2tJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZW1vdmVCb29rIiwiZm9ybUNvdmVyIiwiZm9ybUNhbmNlbCIsInRpdGxlSW5wdXQiLCJhdXRob3JJbnB1dCIsInBhZ2VzSW5wdXQiLCJ0aXRsZUVycm9yIiwiYXV0aG9yRXJyb3IiLCJwYWdlc0Vycm9yIiwiY2hlY2tUaXRsZUlucHV0IiwiY2hlY2tWYWxpZGl0eSIsInZhbGlkaXR5IiwidG9vTG9uZyIsInZhbHVlTWlzc2luZyIsImNoZWNrQXV0aG9ySW5wdXQiLCJ0b29TaG9ydCIsInBhdHRlcm5NaXNtYXRjaCIsImNoZWNrUGFnZXNJbnB1dCIsInJhbmdlVW5kZXJmbG93IiwiZSIsInRhcmdldCIsImVycm9ycyIsInZhbHVlIiwiZm9yRWFjaCIsImlucHV0IiwiZXJyb3IiLCJwcmV2ZW50RGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=